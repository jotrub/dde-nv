#include "mex.h"
#include <math.h>

void DDErightHandSide (
  double *x,
  double *xtau,
  double *alpha,
  double *p,
  double xdot[30])
{
  double t1;
  double t12;
  double t123;
  double t129;
  double t13;
  double t130;
  double t135;
  double t138;
  double t139;
  double t14;
  double t140;
  double t142;
  double t144;
  double t150;
  double t156;
  double t157;
  double t16;
  double t162;
  double t165;
  double t166;
  double t167;
  double t169;
  double t17;
  double t171;
  double t177;
  double t18;
  double t183;
  double t184;
  double t189;
  double t192;
  double t193;
  double t194;
  double t196;
  double t198;
  double t2;
  double t20;
  double t204;
  double t21;
  double t210;
  double t211;
  double t216;
  double t219;
  double t220;
  double t221;
  double t223;
  double t225;
  double t23;
  double t231;
  double t237;
  double t238;
  double t24;
  double t243;
  double t246;
  double t247;
  double t248;
  double t250;
  double t252;
  double t258;
  double t26;
  double t264;
  double t265;
  double t27;
  double t270;
  double t273;
  double t274;
  double t275;
  double t277;
  double t279;
  double t285;
  double t29;
  double t291;
  double t292;
  double t297;
  double t30;
  double t300;
  double t301;
  double t302;
  double t304;
  double t306;
  double t312;
  double t318;
  double t319;
  double t32;
  double t324;
  double t327;
  double t328;
  double t329;
  double t33;
  double t331;
  double t333;
  double t339;
  double t345;
  double t346;
  double t35;
  double t351;
  double t354;
  double t355;
  double t356;
  double t358;
  double t36;
  double t360;
  double t366;
  double t372;
  double t373;
  double t38;
  double t39;
  double t40;
  double t43;
  double t46;
  double t49;
  double t5;
  double t52;
  double t55;
  double t58;
  double t6;
  double t61;
  double t64;
  double t67;
  double t7;
  double t70;
  double t73;
  double t76;
  double t83;
  double t85;
  double t87;
  double t89;
  double t9;
  double t91;
  double t93;
  double t95;
  double t97;
  double t98;
  t1 = p[0];
  t2 = x[1];
  t5 = x[2];
  t6 = x[0];
  t7 = t5 * t6;
  t9 = t5 * t2;
  t12 = 0.2e1 + 0.100e3 * t1;
  t13 = cos(t12);
  t14 = xtau[0];
  t16 = 0.5000e0 * t13 * t14;
  t17 = sin(t12);
  t18 = xtau[1];
  t20 = 0.5000e0 * t17 * t18;
  t21 = xtau[3];
  t23 = 0.5000e0 * t13 * t21;
  t24 = xtau[4];
  t26 = 0.5000e0 * t17 * t24;
  t27 = xtau[6];
  t29 = 0.5000e0 * t13 * t27;
  t30 = xtau[7];
  t32 = 0.5000e0 * t17 * t30;
  t33 = xtau[9];
  t35 = 0.5000e0 * t13 * t33;
  t36 = xtau[10];
  t38 = 0.5000e0 * t17 * t36;
  t39 = 0.1000e4 * t1 * t2 + 0.5000e3 * t7 - 0.20000e4 * t9 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t40 = xtau[12];
  t43 = xtau[13];
  t46 = xtau[15];
  t49 = xtau[16];
  t52 = xtau[18];
  t55 = xtau[19];
  t58 = xtau[21];
  t61 = xtau[22];
  t64 = xtau[24];
  t67 = xtau[25];
  t70 = xtau[27];
  t73 = xtau[28];
  t76 = 0.5000e0 * t13 * t40 + 0.5000e0 * t17 * t43 + 0.5000e0 * t13 * t46 + 0.5000e0 * t17 * t49 + 0.5000e0 * t13 * t52 + 0.5000e0 * t17 * t55 + 0.5000e0 * t13 * t58 + 0.5000e0 * t17 * t61 + 0.5000e0 * t13 * t64 + 0.5000e0 * t17 * t67 + 0.5000e0 * t13 * t70 + 0.5000e0 * t17 * t73;
  t83 = 0.5000e0 * t17 * t14;
  t85 = 0.5000e0 * t13 * t18;
  t87 = 0.5000e0 * t17 * t21;
  t89 = 0.5000e0 * t13 * t24;
  t91 = 0.5000e0 * t17 * t27;
  t93 = 0.5000e0 * t13 * t30;
  t95 = 0.5000e0 * t17 * t33;
  t97 = 0.5000e0 * t13 * t36;
  t98 = -0.1000e4 * t1 * t6 + 0.20000e4 * t7 + 0.5000e3 * t9 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t123 = -0.5000e0 * t17 * t40 + 0.5000e0 * t13 * t43 - 0.5000e0 * t17 * t46 + 0.5000e0 * t13 * t49 - 0.5000e0 * t17 * t52 + 0.5000e0 * t13 * t55 - 0.5000e0 * t17 * t58 + 0.5000e0 * t13 * t61 - 0.5000e0 * t17 * t64 + 0.5000e0 * t13 * t67 - 0.5000e0 * t17 * t70 + 0.5000e0 * t13 * t73;
  t129 = t6 * t6;
  t130 = t2 * t2;
  t135 = x[4];
  t138 = x[5];
  t139 = x[3];
  t140 = t138 * t139;
  t142 = t138 * t135;
  t144 = 0.1000e4 * t1 * t135 + 0.5000e3 * t140 - 0.20000e4 * t142 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t150 = -0.1000e4 * t1 * t139 + 0.20000e4 * t140 + 0.5000e3 * t142 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t156 = t139 * t139;
  t157 = t135 * t135;
  t162 = x[7];
  t165 = x[8];
  t166 = x[6];
  t167 = t165 * t166;
  t169 = t165 * t162;
  t171 = 0.1000e4 * t1 * t162 + 0.5000e3 * t167 - 0.20000e4 * t169 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t177 = -0.1000e4 * t1 * t166 + 0.20000e4 * t167 + 0.5000e3 * t169 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t183 = t166 * t166;
  t184 = t162 * t162;
  t189 = x[10];
  t192 = x[11];
  t193 = x[9];
  t194 = t192 * t193;
  t196 = t192 * t189;
  t198 = 0.1000e4 * t1 * t189 + 0.5000e3 * t194 - 0.20000e4 * t196 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t204 = -0.1000e4 * t1 * t193 + 0.20000e4 * t194 + 0.5000e3 * t196 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t210 = t193 * t193;
  t211 = t189 * t189;
  t216 = x[13];
  t219 = x[14];
  t220 = x[12];
  t221 = t219 * t220;
  t223 = t219 * t216;
  t225 = 0.1000e4 * t1 * t216 + 0.5000e3 * t221 - 0.20000e4 * t223 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t231 = -0.1000e4 * t1 * t220 + 0.20000e4 * t221 + 0.5000e3 * t223 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t237 = t220 * t220;
  t238 = t216 * t216;
  t243 = x[16];
  t246 = x[17];
  t247 = x[15];
  t248 = t246 * t247;
  t250 = t246 * t243;
  t252 = 0.1000e4 * t1 * t243 + 0.5000e3 * t248 - 0.20000e4 * t250 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t258 = -0.1000e4 * t1 * t247 + 0.20000e4 * t248 + 0.5000e3 * t250 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t264 = t247 * t247;
  t265 = t243 * t243;
  t270 = x[19];
  t273 = x[20];
  t274 = x[18];
  t275 = t273 * t274;
  t277 = t273 * t270;
  t279 = 0.1000e4 * t1 * t270 + 0.5000e3 * t275 - 0.20000e4 * t277 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t285 = -0.1000e4 * t1 * t274 + 0.20000e4 * t275 + 0.5000e3 * t277 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t291 = t274 * t274;
  t292 = t270 * t270;
  t297 = x[22];
  t300 = x[23];
  t301 = x[21];
  t302 = t300 * t301;
  t304 = t300 * t297;
  t306 = 0.1000e4 * t1 * t297 + 0.5000e3 * t302 - 0.20000e4 * t304 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t312 = -0.1000e4 * t1 * t301 + 0.20000e4 * t302 + 0.5000e3 * t304 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t318 = t301 * t301;
  t319 = t297 * t297;
  t324 = x[25];
  t327 = x[26];
  t328 = x[24];
  t329 = t327 * t328;
  t331 = t324 * t327;
  t333 = 0.1000e4 * t1 * t324 + 0.5000e3 * t329 - 0.20000e4 * t331 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t339 = -0.1000e4 * t1 * t328 + 0.20000e4 * t329 + 0.5000e3 * t331 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t345 = t328 * t328;
  t346 = t324 * t324;
  t351 = x[28];
  t354 = x[29];
  t355 = x[27];
  t356 = t354 * t355;
  t358 = t354 * t351;
  t360 = 0.1000e4 * t1 * t351 + 0.5000e3 * t356 - 0.20000e4 * t358 + t16 + t20 + t23 + t26 + t29 + t32 + t35 + t38;
  t366 = -0.1000e4 * t1 * t355 + 0.20000e4 * t356 + 0.5000e3 * t358 - t83 + t85 - t87 + t89 - t91 + t93 - t95 + t97;
  t372 = t355 * t355;
  t373 = t351 * t351;
  xdot[0] = t39 + t76;
  xdot[1] = t98 + t123;
  xdot[2] = 0.5000e1 * alpha[0] - 0.5000e1 * t5 - 0.5000e1 * (t5 + 0.1e1) * (t129 + t130);
  xdot[3] = t144 + t76;
  xdot[4] = t150 + t123;
  xdot[5] = 0.5000e1 * alpha[1] - 0.5000e1 * t138 - 0.5000e1 * (t138 + 0.1e1) * (t156 + t157);
  xdot[6] = t171 + t76;
  xdot[7] = t177 + t123;
  xdot[8] = 0.5000e1 * alpha[2] - 0.5000e1 * t165 - 0.5000e1 * (t165 + 0.1e1) * (t183 + t184);
  xdot[9] = t198 + t76;
  xdot[10] = t204 + t123;
  xdot[11] = 0.5000e1 * alpha[3] - 0.5000e1 * t192 - 0.5000e1 * (t192 + 0.1e1) * (t210 + t211);
  xdot[12] = t225 + t76;
  xdot[13] = t231 + t123;
  xdot[14] = 0.5000e1 * alpha[4] - 0.5000e1 * t219 - 0.5000e1 * (t219 + 0.1e1) * (t237 + t238);
  xdot[15] = t252 + t76;
  xdot[16] = t258 + t123;
  xdot[17] = 0.5000e1 * alpha[5] - 0.5000e1 * t246 - 0.5000e1 * (t246 + 0.1e1) * (t264 + t265);
  xdot[18] = t279 + t76;
  xdot[19] = t285 + t123;
  xdot[20] = 0.5000e1 * alpha[6] - 0.5000e1 * t273 - 0.5000e1 * (t273 + 0.1e1) * (t291 + t292);
  xdot[21] = t306 + t76;
  xdot[22] = t312 + t123;
  xdot[23] = 0.5000e1 * alpha[7] - 0.5000e1 * t300 - 0.5000e1 * (t300 + 0.1e1) * (t318 + t319);
  xdot[24] = t333 + t76;
  xdot[25] = t339 + t123;
  xdot[26] = 0.5000e1 * alpha[8] - 0.5000e1 * t327 - 0.5000e1 * (t327 + 0.1e1) * (t345 + t346);
  xdot[27] = t360 + t76;
  xdot[28] = t366 + t123;
  xdot[29] = 0.5000e1 * alpha[9] - 0.5000e1 * t354 - 0.5000e1 * (t354 + 0.1e1) * (t372 + t373);
}


/* The gateway function */                                                                                                                
void mexFunction (int nlhs, mxArray *plhs[],                                                                                              
int nrhs, const mxArray *prhs[])                                                                                                          
{                                                                                                                                         
if(nrhs!=4) {                                                                                                                             
mexErrMsgIdAndTxt("MyToolbox:DDEWrapped:nrhs","4 inputs required (state vector, matrix with delayed states and vector with parameters (uncertain und certain)).");
}                                                                                                                                         
if(nlhs==0) {                                                                                                                             
mexErrMsgIdAndTxt("MyToolbox:DDEWrapped:nlhs","Please define an output!");                                                                
}                                                                                                                                         
if(nlhs!=1) {                                                                                                                             
mexErrMsgIdAndTxt("MyToolbox:DDEWrapped:nlhs","One output required.");                                                                    
}                                                                                                                                         
double *x = mxGetPr(prhs[0]);                                                                                                             
double *xtau = mxGetPr(prhs[1]);                                                                                                          
double *alpha = mxGetPr(prhs[2]);                                                                   
double *p = mxGetPr(prhs[3]);  
/* create the output matrix */                                                                                                            
plhs[0] = mxCreateDoubleMatrix(1,(mwSize)30,mxREAL);                                                                                       
/* get a pointer to the real data in the output matrix */                                                                                 
double *xdot = mxGetPr(plhs[0]);                                                                                                          
DDErightHandSide(x, xtau, alpha, p, xdot);                                                                                                   
}   

