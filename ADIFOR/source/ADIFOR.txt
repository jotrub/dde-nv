###############################################################################
#
# @path ADIFOR.txt
#
# @notes
#   Purpose of module is to execute shell commands to differentiate a
#     given procedure. Module only covers very restricted part of 
#     adifor functionality, see Todo's. 
#   Module is system-dependent. Currently only Solaris is supported.
#     Module expects adifor executable Adifor2.1 to exist and 
#     environment variables regarding adifor to be set. At some point
#     the following setting worked:
#     /opt/adifor/bin/ was in PATH and
#     setenv AD_HOME /opt/adifor
#     setenv AD_LIB /opt/adifor/
#     setenv AD_ARCH SunOS-5.x
#     setenv AD_OS SunOS-5.x
#
# @todo
#   module does not exploit sparsity
#   module handles only a single subroutine; adifor is capable of
#     differentiating nested subroutines;
#   avoid creation of shell script in Adifor:-CreateFiles, call
#     adifor with appropriate system command instead
#   modules which use Adifor most likely do not make use of the
#     fact that the adifor-generated fortran subroutine evaluates
#     both functions and derivatives
#   I have not even attemted to exploit sparsity.
#
# @revision
# 02xxxx written by mmo
#
###############################################################################
ADIFOR:= module()

  export RunAD;
  local CreateFiles;

$include <RunAD.txt>
$include <CreateFiles.txt>

end module; # Adifor

#
# save module after expanding all include-directives
#
  save ADIFOR, "ADIFOR.mpl";

